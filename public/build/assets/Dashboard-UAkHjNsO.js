import{r,j as t,Y as f}from"./app-DZM_pDBn.js";import{A as y}from"./AuthenticatedLayout-CMd7cau_.js";import{M as A,T as S,a as L,P as j,L as D}from"./TileLayer-lwl6DT1w.js";import{t as b,p as v,e as E,g as F,d as I,a as M}from"./satellite.es-DH1eBX-T.js";import{P as w}from"./Polyline-DPA3uMwO.js";import"./transition-Bw73ACJ0.js";const m=["1 39084U 13008A   24280.79344377  .00002481  00000-0  56051-3 0  9991","2 39084  98.2180 348.9979 0001313  94.2857 265.8492 14.57116925619661"],u=["1 49260U 21088A   24280.82780792  .00002639  00000-0  59538-3 0  9992","2 49260  98.2208 349.0303 0001273  90.8261 269.3083 14.57127514160941"],N="http://137.184.49.59//img/iconsatellite.svg",P=new D.Icon({iconUrl:N,iconSize:[38,38],iconAnchor:[19,19],popupAnchor:[0,-19]}),l=(s,n)=>{const e=b(s[0],s[1]),a=v(e,n),o=E(a.position,F(n));return{lat:I(o.latitude),lng:M(o.longitude)}},T=(s,n,e)=>{const a=new Date,o=[];for(let i=e*60;i>=0;i-=n){const g=new Date(a.getTime()-i*1e3),d=l(s,g);o.push(d)}return o};function H(){const[s,n]=r.useState(null),[e,a]=r.useState(null),[o,i]=r.useState([]),[g,d]=r.useState([]);return r.useEffect(()=>{const h=T(m,5,120),p=T(u,5,120);i(h),d(p);const x=l(m,new Date),c=l(u,new Date);n(x),a(c)},[]),r.useEffect(()=>{const h=setInterval(()=>{const p=l(m,new Date),x=l(u,new Date);n(p),a(x),i(c=>[...c,p]),d(c=>[...c,x])},5e3);return()=>clearInterval(h)},[]),t.jsxs(y,{header:t.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Global Satellite Tracking - Landsat 8 & 9"}),children:[t.jsx(f,{title:"Satellite Map"}),t.jsx("div",{className:"py-5",children:t.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:t.jsxs(A,{center:[0,0],zoom:2,style:{height:"600px",width:"100%"},children:[t.jsx(S,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s&&t.jsxs(t.Fragment,{children:[t.jsx(L,{position:[s.lat,s.lng],icon:P,children:t.jsxs(j,{children:["Landsat 8",t.jsx("br",{}),"Lat: ",s.lat.toFixed(4),", Lng: ",s.lng.toFixed(4)]})}),t.jsx(w,{positions:o,color:"blue"})]}),e&&t.jsxs(t.Fragment,{children:[t.jsx(L,{position:[e.lat,e.lng],icon:P,children:t.jsxs(j,{children:["Landsat 9",t.jsx("br",{}),"Lat: ",e.lat.toFixed(4),", Lng: ",e.lng.toFixed(4)]})}),t.jsx(w,{positions:g,color:"red"})]})]})})})]})}export{H as default};
