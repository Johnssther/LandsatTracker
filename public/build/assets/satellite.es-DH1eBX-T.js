/*!
 * satellite-js v5.0.0
 * (c) 2013 Shashwat Kandadai and UCSC
 * https://github.com/shashwatak/satellite-js
 * License: MIT
 */var U0=Math.PI,t=U0*2,l2=U0/180,K2=180/U0,N2=1440,Q2=398600.8,P0=6378.135,V0=60/Math.sqrt(P0*P0*P0/Q2),C2=P0*V0/60,V2=1/V0,R0=.001082616,X2=-253881e-11,Z2=-165597e-11,c0=X2/R0,g2=2/3;function s2(v,a){for(var n=[31,v%4===0?29:28,31,30,31,30,31,31,30,31,30,31],p=Math.floor(a),x=1,d=0;p>d+n[x-1]&&x<12;)d+=n[x-1],x+=1;var b=x,q=p-d,m=(a-p)*24,u=Math.floor(m);m=(m-u)*60;var l=Math.floor(m),M=(m-l)*60;return{mon:b,day:q,hr:u,minute:l,sec:M}}function D2(v,a,n,p,x,d){var b=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;return 367*v-Math.floor(7*(v+Math.floor((a+9)/12))*.25)+Math.floor(275*a/9)+n+17210135e-1+((b/6e4+d/60+x)/60+p)/24}function S2(v,a,n,p,x,d,b){if(v instanceof Date){var q=v;return D2(q.getUTCFullYear(),q.getUTCMonth()+1,q.getUTCDate(),q.getUTCHours(),q.getUTCMinutes(),q.getUTCSeconds(),q.getUTCMilliseconds())}return D2(v,a,n,p,x,d,b)}function k2(v,a){var n=v.e3,p=v.ee2,x=v.peo,d=v.pgho,b=v.pho,q=v.pinco,m=v.plo,u=v.se2,l=v.se3,M=v.sgh2,B=v.sgh3,S=v.sgh4,Z=v.sh2,i0=v.sh3,J=v.si2,D=v.si3,R=v.sl2,O=v.sl3,W=v.sl4,E=v.t,h=v.xgh2,e=v.xgh3,H=v.xgh4,I=v.xh2,c=v.xh3,P=v.xi2,y=v.xi3,n0=v.xl2,K=v.xl3,v0=v.xl4,f=v.zmol,r0=v.zmos,N=a.init,Y=a.opsmode,m0=a.ep,a0=a.inclp,g=a.nodep,u0=a.argpp,x0=a.mp,r,i,$,A,V,_,j0,o0,f0,w,C,s,F,T,U,j,z,Q,X,k,G,z0=119459e-10,l0=.01675,w0=.00015835218,q0=.0549;G=r0+z0*E,N==="y"&&(G=r0),k=G+2*l0*Math.sin(G),z=Math.sin(k),w=.5*z*z-.25,C=-.5*z*Math.cos(k);var T0=u*w+l*C,F0=J*w+D*C,p0=R*w+O*C+W*z,g0=M*w+B*C+S*z,M0=Z*w+i0*C;G=f+w0*E,N==="y"&&(G=f),k=G+2*q0*Math.sin(G),z=Math.sin(k),w=.5*z*z-.25,C=-.5*z*Math.cos(k);var k0=p*w+n*C,S0=P*w+y*C,d0=n0*w+K*C+v0*z,y0=h*w+e*C+H*z,$0=I*w+c*C;return s=T0+k0,U=F0+S0,j=p0+d0,F=g0+y0,T=M0+$0,N==="n"&&(s-=x,U-=q,j-=m,F-=d,T-=b,a0+=U,m0+=s,A=Math.sin(a0),$=Math.cos(a0),a0>=.2?(T/=A,F-=$*T,u0+=F,g+=T,x0+=j):(_=Math.sin(g),V=Math.cos(g),r=A*_,i=A*V,j0=T*V+U*$*_,o0=-T*_+U*$*V,r+=j0,i+=o0,g%=t,g<0&&Y==="a"&&(g+=t),Q=x0+u0+$*g,f0=j+F-U*g*A,Q+=f0,X=g,g=Math.atan2(r,i),g<0&&Y==="a"&&(g+=t),Math.abs(X-g)>U0&&(g<X?g+=t:g-=t),x0+=j,u0=Q-x0-$*g)),{ep:m0,inclp:a0,nodep:g,argpp:u0,mp:x0}}function t2(v){var a=v.epoch,n=v.ep,p=v.argpp,x=v.tc,d=v.inclp,b=v.nodep,q=v.np,m,u,l,M,B,S,Z,i0,J,D,R,O,W,E,h,e,H,I,c,P,y,n0,K,v0,f,r0,N,Y,m0,a0,g,u0,x0,r,i,$,A,V,_,j0,o0,f0,w,C,s,F,T,U,j,z,Q,X,k,G,z0,l0,w0,q0,T0,F0,p0,g0,M0,k0=.01675,S0=.0549,d0=29864797e-13,y0=47968065e-14,$0=.39785416,E0=.91744867,b0=.1945905,N0=-.98088458,O0=q,B0=n,H0=Math.sin(b),_0=Math.cos(b),A0=Math.sin(p),D0=Math.cos(p),G0=Math.sin(d),J0=Math.cos(d),o=B0*B0,W0=1-o,L0=Math.sqrt(W0),X0=0,L=0,v2=0,n2=0,r2=0,Q0=a+18261.5+x/1440,K0=(4.523602-.00092422029*Q0)%t,e0=Math.sin(K0),Y0=Math.cos(K0),a2=.91375164-.03568096*Y0,o2=Math.sqrt(1-a2*a2),I0=.089683511*e0/o2,C0=Math.sqrt(1-I0*I0),h0=5.8351514+.001944368*Q0,Z0=.39785416*e0/o2,z2=C0*Y0+.91744867*I0*e0;Z0=Math.atan2(Z0,z2),Z0+=h0-K0;var p2=Math.cos(Z0),M2=Math.sin(Z0);P=b0,y=N0,v0=E0,f=$0,n0=_0,K=H0,R=d0;for(var y2=1/O0,h2=0;h2<2;)h2+=1,m=P*n0+y*v0*K,l=-y*n0+P*v0*K,Z=-P*K+y*v0*n0,i0=y*f,J=y*K+P*v0*n0,D=P*f,u=J0*Z+G0*i0,M=J0*J+G0*D,B=-G0*Z+J0*i0,S=-G0*J+J0*D,O=m*D0+u*A0,W=l*D0+M*A0,E=-m*A0+u*D0,h=-l*A0+M*D0,e=B*A0,H=S*A0,I=B*D0,c=S*D0,p0=12*O*O-3*E*E,g0=24*O*W-6*E*h,M0=12*W*W-3*h*h,X=3*(m*m+u*u)+p0*o,k=6*(m*l+u*M)+g0*o,G=3*(l*l+M*M)+M0*o,z0=-6*m*B+o*(-24*O*I-6*E*e),l0=-6*(m*S+l*B)+o*(-24*(W*I+O*c)+-6*(E*H+h*e)),w0=-6*l*S+o*(-24*W*c-6*h*H),q0=6*u*B+o*(24*O*e-6*E*I),T0=6*(M*B+u*S)+o*(24*(W*e+O*H)-6*(h*I+E*c)),F0=6*M*S+o*(24*W*H-6*h*c),X=X+X+W0*p0,k=k+k+W0*g0,G=G+G+W0*M0,T=R*y2,F=-.5*T/L0,U=T*L0,s=-15*B0*U,j=O*E+W*h,z=W*E+O*h,Q=W*h-O*E,h2===1&&(r0=s,N=F,Y=T,m0=U,a0=j,g=z,u0=Q,x0=X,r=k,i=G,$=z0,A=l0,V=w0,_=q0,j0=T0,o0=F0,f0=p0,w=g0,C=M0,P=p2,y=M2,v0=a2,f=o2,n0=C0*_0+I0*H0,K=H0*C0-_0*I0,R=y0);var i2=(4.7199672+(.2299715*Q0-h0))%t,b2=(6.2565837+.017201977*Q0)%t,q2=2*r0*g,s0=2*r0*u0,t0=2*N*A,e2=2*N*(V-$),u2=-2*Y*r,w2=-2*Y*(i-x0),j2=-2*Y*(-21-9*o)*k0,d2=2*m0*w,A2=2*m0*(C-f0),T2=-18*m0*k0,m2=-2*N*j0,f2=-2*N*(o0-_),x2=2*s*z,F2=2*s*Q,I2=2*F*l0,O2=2*F*(w0-z0),H2=-2*T*k,_2=-2*T*(G-X),G2=-2*T*(-21-9*o)*S0,W2=2*U*g0,Y2=2*U*(M0-p0),$2=-18*U*S0,B2=-2*F*T0,J2=-2*F*(F0-q0);return{snodm:H0,cnodm:_0,sinim:G0,cosim:J0,sinomm:A0,cosomm:D0,day:Q0,e3:F2,ee2:x2,em:B0,emsq:o,gam:h0,peo:X0,pgho:n2,pho:r2,pinco:L,plo:v2,rtemsq:L0,se2:q2,se3:s0,sgh2:d2,sgh3:A2,sgh4:T2,sh2:m2,sh3:f2,si2:t0,si3:e2,sl2:u2,sl3:w2,sl4:j2,s1:s,s2:F,s3:T,s4:U,s5:j,s6:z,s7:Q,ss1:r0,ss2:N,ss3:Y,ss4:m0,ss5:a0,ss6:g,ss7:u0,sz1:x0,sz2:r,sz3:i,sz11:$,sz12:A,sz13:V,sz21:_,sz22:j0,sz23:o0,sz31:f0,sz32:w,sz33:C,xgh2:W2,xgh3:Y2,xgh4:$2,xh2:B2,xh3:J2,xi2:I2,xi3:O2,xl2:H2,xl3:_2,xl4:G2,nm:O0,z1:X,z2:k,z3:G,z11:z0,z12:l0,z13:w0,z21:q0,z22:T0,z23:F0,z31:p0,z32:g0,z33:M0,zmol:i2,zmos:b2}}function R2(v){var a=v.cosim,n=v.argpo,p=v.s1,x=v.s2,d=v.s3,b=v.s4,q=v.s5,m=v.sinim,u=v.ss1,l=v.ss2,M=v.ss3,B=v.ss4,S=v.ss5,Z=v.sz1,i0=v.sz3,J=v.sz11,D=v.sz13,R=v.sz21,O=v.sz23,W=v.sz31,E=v.sz33,h=v.t,e=v.tc,H=v.gsto,I=v.mo,c=v.mdot,P=v.no,y=v.nodeo,n0=v.nodedot,K=v.xpidot,v0=v.z1,f=v.z3,r0=v.z11,N=v.z13,Y=v.z21,m0=v.z23,a0=v.z31,g=v.z33,u0=v.ecco,x0=v.eccsq,r=v.emsq,i=v.em,$=v.argpm,A=v.inclm,V=v.mm,_=v.nm,j0=v.nodem,o0=v.irez,f0=v.atime,w=v.d2201,C=v.d2211,s=v.d3210,F=v.d3222,T=v.d4410,U=v.d4422,j=v.d5220,z=v.d5232,Q=v.d5421,X=v.d5433,k=v.dedt,G=v.didt,z0=v.dmdt,l0=v.dnodt,w0=v.domdt,q0=v.del1,T0=v.del2,F0=v.del3,p0=v.xfact,g0=v.xlamo,M0=v.xli,k0=v.xni,S0,d0,y0,$0,E0,b0,N0,O0,B0,H0,_0,A0,D0,G0,J0,o,W0,L0,X0,L,v2,n2,r2,Q0,K0,e0,Y0,a2,o2,I0,C0,h0,Z0=17891679e-13,z2=21460748e-13,p2=22123015e-14,M2=17891679e-13,y2=73636953e-16,h2=21765803e-16,i2=.0043752690880113,b2=37393792e-14,q2=11428639e-14,s0=.00015835218,t0=119459e-10;o0=0,_<.0052359877&&_>.0034906585&&(o0=1),_>=.00826&&_<=.00924&&i>=.5&&(o0=2);var e2=u*t0*S,u2=l*t0*(J+D),w2=-t0*M*(Z+i0-14-6*r),j2=B*t0*(W+E-6),d2=-t0*l*(R+O);(A<.052359877||A>U0-.052359877)&&(d2=0),m!==0&&(d2/=m);var A2=j2-a*d2;k=e2+p*s0*q,G=u2+x*s0*(r0+N),z0=w2-s0*d*(v0+f-14-6*r);var T2=b*s0*(a0+g-6),m2=-s0*x*(Y+m0);(A<.052359877||A>U0-.052359877)&&(m2=0),w0=A2+T2,l0=d2,m!==0&&(w0-=a/m*m2,l0+=m2/m);var f2=0,x2=(H+e*i2)%t;if(i+=k*h,A+=G*h,$+=w0*h,j0+=l0*h,V+=z0*h,o0!==0){if(I0=Math.pow(_/V0,g2),o0===2){C0=a*a;var F2=i;i=u0;var I2=r;r=x0,h0=i*r,G0=-.306-(i-.64)*.44,i<=.65?(J0=3.616-13.247*i+16.29*r,W0=-19.302+117.39*i-228.419*r+156.591*h0,L0=-18.9068+109.7927*i-214.6334*r+146.5816*h0,X0=-41.122+242.694*i-471.094*r+313.953*h0,L=-146.407+841.88*i-1629.014*r+1083.435*h0,v2=-532.114+3017.977*i-5740.032*r+3708.276*h0):(J0=-72.099+331.819*i-508.738*r+266.724*h0,W0=-346.844+1582.851*i-2415.925*r+1246.113*h0,L0=-342.585+1554.908*i-2366.899*r+1215.972*h0,X0=-1052.797+4758.686*i-7193.992*r+3651.957*h0,L=-3581.69+16178.11*i-24462.77*r+12422.52*h0,i>.715?v2=-5149.66+29936.92*i-54087.36*r+31324.56*h0:v2=1464.74-4664.75*i+3763.64*r),i<.7?(Q0=-919.2277+4988.61*i-9064.77*r+5542.21*h0,n2=-822.71072+4568.6173*i-8491.4146*r+5337.524*h0,r2=-853.666+4690.25*i-8624.77*r+5341.4*h0):(Q0=-37995.78+161616.52*i-229838.2*r+109377.94*h0,n2=-51752.104+218913.95*i-309468.16*r+146349.42*h0,r2=-40023.88+170470.89*i-242699.48*r+115605.82*h0),K0=m*m,S0=.75*(1+2*a+C0),d0=1.5*K0,$0=1.875*m*(1-2*a-3*C0),E0=-1.875*m*(1+2*a-3*C0),N0=35*K0*S0,O0=39.375*K0*K0,B0=9.84375*m*(K0*(1-2*a-5*C0)+.33333333*(-2+4*a+6*C0)),H0=m*(4.92187512*K0*(-2-4*a+10*C0)+6.56250012*(1+2*a-3*C0)),_0=29.53125*m*(2-8*a+C0*(-12+8*a+10*C0)),A0=29.53125*m*(-2-8*a+C0*(12+8*a-10*C0)),a2=_*_,o2=I0*I0,Y0=3*a2*o2,e0=Y0*M2,w=e0*S0*G0,C=e0*d0*J0,Y0*=I0,e0=Y0*b2,s=e0*$0*W0,F=e0*E0*L0,Y0*=I0,e0=2*Y0*y2,T=e0*N0*X0,U=e0*O0*L,Y0*=I0,e0=Y0*q2,j=e0*B0*v2,z=e0*H0*r2,e0=2*Y0*h2,Q=e0*_0*n2,X=e0*A0*Q0,g0=(I+y+y-(x2+x2))%t,p0=c+z0+2*(n0+l0-i2)-P,i=F2,r=I2}o0===1&&(D0=1+r*(-2.5+.8125*r),W0=1+2*r,o=1+r*(-6+6.60937*r),S0=.75*(1+a)*(1+a),y0=.9375*m*m*(1+3*a)-.75*(1+a),b0=1+a,b0*=1.875*b0*b0,q0=3*_*_*I0*I0,T0=2*q0*S0*D0*Z0,F0=3*q0*b0*o*p2*I0,q0=q0*y0*W0*z2*I0,g0=(I+y+n-x2)%t,p0=c+K+z0+w0+l0-(P+i2)),M0=g0,k0=P,f0=0,_=P+f2}return{em:i,argpm:$,inclm:A,mm:V,nm:_,nodem:j0,irez:o0,atime:f0,d2201:w,d2211:C,d3210:s,d3222:F,d4410:T,d4422:U,d5220:j,d5232:z,d5421:Q,d5433:X,dedt:k,didt:G,dmdt:z0,dndt:f2,dnodt:l0,domdt:w0,del1:q0,del2:T0,del3:F0,xfact:p0,xlamo:g0,xli:M0,xni:k0}}function E2(v){var a=(v-2451545)/36525,n=-62e-7*a*a*a+.093104*a*a+(876600*3600+8640184812866e-6)*a+67310.54841;return n=n*l2/240%t,n<0&&(n+=t),n}function c2(){return(arguments.length<=0?void 0:arguments[0])instanceof Date||arguments.length>1?E2(S2.apply(void 0,arguments)):E2.apply(void 0,arguments)}function v1(v){var a=v.ecco,n=v.epoch,p=v.inclo,x=v.opsmode,d=v.no,b=a*a,q=1-b,m=Math.sqrt(q),u=Math.cos(p),l=u*u,M=Math.pow(V0/d,g2),B=.75*R0*(3*l-1)/(m*q),S=B/(M*M),Z=M*(1-S*S-S*(1/3+134*S*S/81));S=B/(Z*Z),d/=1+S;var i0=Math.pow(V0/d,g2),J=Math.sin(p),D=i0*q,R=1-5*l,O=-R-l-l,W=1/i0,E=D*D,h=i0*(1-a),e="n",H;if(x==="a"){var I=n-7305,c=Math.floor(I+1e-8),P=I-c,y=.017202791694070362,n0=1.7321343856509375,K=5075514194322695e-30,v0=y+t;H=(n0+y*c+v0*P+I*I*K)%t,H<0&&(H+=t)}else H=c2(n+24332815e-1);return{no:d,method:e,ainv:W,ao:i0,con41:O,con42:R,cosio:u,cosio2:l,eccsq:b,omeosq:q,posq:E,rp:h,rteosq:m,sinio:J,gsto:H}}function a1(v){var a=v.irez,n=v.d2201,p=v.d2211,x=v.d3210,d=v.d3222,b=v.d4410,q=v.d4422,m=v.d5220,u=v.d5232,l=v.d5421,M=v.d5433,B=v.dedt,S=v.del1,Z=v.del2,i0=v.del3,J=v.didt,D=v.dmdt,R=v.dnodt,O=v.domdt,W=v.argpo,E=v.argpdot,h=v.t,e=v.tc,H=v.gsto,I=v.xfact,c=v.xlamo,P=v.no,y=v.atime,n0=v.em,K=v.argpm,v0=v.inclm,f=v.xli,r0=v.mm,N=v.xni,Y=v.nodem,m0=v.nm,a0=.13130908,g=2.8843198,u0=.37448087,x0=5.7686396,r=.95240898,i=1.8014998,$=1.050833,A=4.4108898,V=.0043752690880113,_=720,j0=-720,o0=259200,f0,w,C,s,F,T,U,j,z=0,Q=0,X=(H+e*V)%t;if(n0+=B*h,v0+=J*h,K+=O*h,Y+=R*h,r0+=D*h,a!==0){(y===0||h*y<=0||Math.abs(h)<Math.abs(y))&&(y=0,N=P,f=c),h>0?f0=_:f0=j0;for(var k=381;k===381;)a!==2?(U=S*Math.sin(f-a0)+Z*Math.sin(2*(f-g))+i0*Math.sin(3*(f-u0)),F=N+I,T=S*Math.cos(f-a0)+2*Z*Math.cos(2*(f-g))+3*i0*Math.cos(3*(f-u0)),T*=F):(j=W+E*y,C=j+j,w=f+f,U=n*Math.sin(C+f-x0)+p*Math.sin(f-x0)+x*Math.sin(j+f-r)+d*Math.sin(-j+f-r)+b*Math.sin(C+w-i)+q*Math.sin(w-i)+m*Math.sin(j+f-$)+u*Math.sin(-j+f-$)+l*Math.sin(j+w-A)+M*Math.sin(-j+w-A),F=N+I,T=n*Math.cos(C+f-x0)+p*Math.cos(f-x0)+x*Math.cos(j+f-r)+d*Math.cos(-j+f-r)+m*Math.cos(j+f-$)+u*Math.cos(-j+f-$)+2*(b*Math.cos(C+w-i)+q*Math.cos(w-i)+l*Math.cos(j+w-A)+M*Math.cos(-j+w-A)),T*=F),Math.abs(h-y)>=_?k=381:(Q=h-y,k=0),k===381&&(f+=F*f0+U*o0,N+=U*f0+T*o0,y+=f0);m0=N+U*Q+T*Q*Q*.5,s=f+F*Q+U*Q*Q*.5,a!==1?(r0=s-2*Y+2*X,z=m0-P):(r0=s-Y-K+X,z=m0-P),m0=P+z}return{atime:y,em:n0,argpm:K,inclm:v0,xli:f,mm:r0,xni:N,nodem:Y,dndt:z,nm:m0}}function L2(v,a){var n,p,x,d,b,q,m,u,l,M,B,S,Z,i0,J,D,R,O,W,E,h,e,H,I,c,P,y,n0=15e-13;v.t=a,v.error=0;var K=v.mo+v.mdot*v.t,v0=v.argpo+v.argpdot*v.t,f=v.nodeo+v.nodedot*v.t;l=v0,h=K;var r0=v.t*v.t;if(H=f+v.nodecf*r0,R=1-v.cc1*v.t,O=v.bstar*v.cc4*v.t,W=v.t2cof*r0,v.isimp!==1){m=v.omgcof*v.t;var N=1+v.eta*Math.cos(K);q=v.xmcof*(N*N*N-v.delmo),D=m+q,h=K+D,l=v0-D,S=r0*v.t,Z=S*v.t,R=R-v.d2*r0-v.d3*S-v.d4*Z,O+=v.bstar*v.cc5*(Math.sin(h)-v.sinmao),W=W+v.t3cof*S+Z*(v.t4cof+v.t*v.t5cof)}e=v.no;var Y=v.ecco;if(E=v.inclo,v.method==="d"){i0=v.t;var m0={irez:v.irez,d2201:v.d2201,d2211:v.d2211,d3210:v.d3210,d3222:v.d3222,d4410:v.d4410,d4422:v.d4422,d5220:v.d5220,d5232:v.d5232,d5421:v.d5421,d5433:v.d5433,dedt:v.dedt,del1:v.del1,del2:v.del2,del3:v.del3,didt:v.didt,dmdt:v.dmdt,dnodt:v.dnodt,domdt:v.domdt,argpo:v.argpo,argpdot:v.argpdot,t:v.t,tc:i0,gsto:v.gsto,xfact:v.xfact,xlamo:v.xlamo,no:v.no,atime:v.atime,em:Y,argpm:l,inclm:E,xli:v.xli,mm:h,xni:v.xni,nodem:H,nm:e},a0=a1(m0);Y=a0.em,l=a0.argpm,E=a0.inclm,h=a0.mm,H=a0.nodem,e=a0.nm}if(e<=0)return v.error=2,[!1,!1];var g=Math.pow(V0/e,g2)*R*R;if(e=V0/Math.pow(g,1.5),Y-=O,Y>=1||Y<-.001)return v.error=1,[!1,!1];Y<1e-6&&(Y=1e-6),h+=v.no*W,c=h+l+H,H%=t,l%=t,c%=t,h=(c-l-H)%t;var u0=Math.sin(E),x0=Math.cos(E),r=Y;if(I=E,M=l,y=H,P=h,d=u0,x=x0,v.method==="d"){var i={inclo:v.inclo,init:"n",ep:r,inclp:I,nodep:y,argpp:M,mp:P,opsmode:v.operationmode},$=k2(v,i);if(r=$.ep,y=$.nodep,M=$.argpp,P=$.mp,I=$.inclp,I<0&&(I=-I,y+=U0,M-=U0),r<0||r>1)return v.error=3,[!1,!1]}v.method==="d"&&(d=Math.sin(I),x=Math.cos(I),v.aycof=-.5*c0*d,Math.abs(x+1)>15e-13?v.xlcof=-.25*c0*d*(3+5*x)/(1+x):v.xlcof=-.25*c0*d*(3+5*x)/n0);var A=r*Math.cos(M);D=1/(g*(1-r*r));var V=r*Math.sin(M)+D*v.aycof,_=P+M+y+D*v.xlcof*A,j0=(_-y)%t;u=j0,J=9999.9;for(var o0=1;Math.abs(J)>=1e-12&&o0<=10;)p=Math.sin(u),n=Math.cos(u),J=1-n*A-p*V,J=(j0-V*n+A*p-u)/J,Math.abs(J)>=.95&&(J>0?J=.95:J=-.95),u+=J,o0+=1;var f0=A*n+V*p,w=A*p-V*n,C=A*A+V*V,s=g*(1-C);if(s<0)return v.error=4,[!1,!1];var F=g*(1-f0),T=Math.sqrt(g)*w/F,U=Math.sqrt(s)/F,j=Math.sqrt(1-C);D=w/(1+j);var z=g/F*(p-V-A*D),Q=g/F*(n-A+V*D);B=Math.atan2(z,Q);var X=(Q+Q)*z,k=1-2*z*z;D=1/s;var G=.5*R0*D,z0=G*D;v.method==="d"&&(b=x*x,v.con41=3*b-1,v.x1mth2=1-b,v.x7thm1=7*b-1);var l0=F*(1-1.5*z0*j*v.con41)+.5*G*v.x1mth2*k;if(l0<1)return v.error=6,{position:!1,velocity:!1};B-=.25*z0*v.x7thm1*X;var w0=y+1.5*z0*x*X,q0=I+1.5*z0*x*d*k,T0=T-e*G*v.x1mth2*X/V0,F0=U+e*G*(v.x1mth2*k+1.5*v.con41)/V0,p0=Math.sin(B),g0=Math.cos(B),M0=Math.sin(w0),k0=Math.cos(w0),S0=Math.sin(q0),d0=Math.cos(q0),y0=-M0*d0,$0=k0*d0,E0=y0*p0+k0*g0,b0=$0*p0+M0*g0,N0=S0*p0,O0=y0*g0-k0*p0,B0=$0*g0-M0*p0,H0=S0*g0,_0={x:l0*E0*P0,y:l0*b0*P0,z:l0*N0*P0},A0={x:(T0*E0+F0*O0)*C2,y:(T0*b0+F0*B0)*C2,z:(T0*N0+F0*H0)*C2};return{position:_0,velocity:A0}}function o1(v,a){var n=a.opsmode,p=a.satn,x=a.epoch,d=a.xbstar,b=a.xecco,q=a.xargpo,m=a.xinclo,u=a.xmo,l=a.xno,M=a.xnodeo,B,S,Z,i0,J,D,R,O,W,E,h,e,H,I,c,P,y,n0,K,v0,f,r0,N,Y,m0,a0,g,u0,x0,r,i,$,A,V,_,j0,o0,f0,w,C,s,F,T,U,j,z,Q,X,k,G,z0,l0,w0,q0,T0,F0,p0=15e-13;v.isimp=0,v.method="n",v.aycof=0,v.con41=0,v.cc1=0,v.cc4=0,v.cc5=0,v.d2=0,v.d3=0,v.d4=0,v.delmo=0,v.eta=0,v.argpdot=0,v.omgcof=0,v.sinmao=0,v.t=0,v.t2cof=0,v.t3cof=0,v.t4cof=0,v.t5cof=0,v.x1mth2=0,v.x7thm1=0,v.mdot=0,v.nodedot=0,v.xlcof=0,v.xmcof=0,v.nodecf=0,v.irez=0,v.d2201=0,v.d2211=0,v.d3210=0,v.d3222=0,v.d4410=0,v.d4422=0,v.d5220=0,v.d5232=0,v.d5421=0,v.d5433=0,v.dedt=0,v.del1=0,v.del2=0,v.del3=0,v.didt=0,v.dmdt=0,v.dnodt=0,v.domdt=0,v.e3=0,v.ee2=0,v.peo=0,v.pgho=0,v.pho=0,v.pinco=0,v.plo=0,v.se2=0,v.se3=0,v.sgh2=0,v.sgh3=0,v.sgh4=0,v.sh2=0,v.sh3=0,v.si2=0,v.si3=0,v.sl2=0,v.sl3=0,v.sl4=0,v.gsto=0,v.xfact=0,v.xgh2=0,v.xgh3=0,v.xgh4=0,v.xh2=0,v.xh3=0,v.xi2=0,v.xi3=0,v.xl2=0,v.xl3=0,v.xl4=0,v.xlamo=0,v.zmol=0,v.zmos=0,v.atime=0,v.xli=0,v.xni=0,v.bstar=d,v.ecco=b,v.argpo=q,v.inclo=m,v.mo=u,v.no=l,v.nodeo=M,v.operationmode=n;var g0=78/P0+1,M0=42/P0,k0=M0*M0*M0*M0;v.init="y",v.t=0;var S0={satn:p,ecco:v.ecco,epoch:x,inclo:v.inclo,no:v.no,method:v.method,opsmode:v.operationmode},d0=v1(S0),y0=d0.ao,$0=d0.con42,E0=d0.cosio,b0=d0.cosio2,N0=d0.eccsq,O0=d0.omeosq,B0=d0.posq,H0=d0.rp,_0=d0.rteosq,A0=d0.sinio;if(v.no=d0.no,v.con41=d0.con41,v.gsto=d0.gsto,v.a=Math.pow(v.no*V2,-2/3),v.alta=v.a*(1+v.ecco)-1,v.altp=v.a*(1-v.ecco)-1,v.error=0,O0>=0||v.no>=0){if(v.isimp=0,H0<220/P0+1&&(v.isimp=1),g=g0,f=k0,n0=(H0-1)*P0,n0<156){g=n0-78,n0<98&&(g=20);var D0=(120-g)/P0;f=D0*D0*D0*D0,g=g/P0+1}K=1/B0,z=1/(y0-g),v.eta=y0*v.ecco*z,e=v.eta*v.eta,h=v.ecco*v.eta,v0=Math.abs(1-e),D=f*Math.pow(z,4),R=D/Math.pow(v0,3.5),i0=R*v.no*(y0*(1+1.5*e+h*(4+e))+.375*R0*z/v0*v.con41*(8+3*e*(8+e))),v.cc1=v.bstar*i0,J=0,v.ecco>1e-4&&(J=-2*D*z*c0*v.no*A0/v.ecco),v.x1mth2=1-b0,v.cc4=2*v.no*R*y0*O0*(v.eta*(2+.5*e)+v.ecco*(.5+2*e)-R0*z/(y0*v0)*(-3*v.con41*(1-2*h+e*(1.5-.5*h))+.75*v.x1mth2*(2*e-h*(1+e))*Math.cos(2*v.argpo))),v.cc5=2*R*y0*O0*(1+2.75*(e+h)+h*e),O=b0*b0,T=1.5*R0*K*v.no,U=.5*T*R0*K,j=-.46875*Z2*K*K*v.no,v.mdot=v.no+.5*T*_0*v.con41+.0625*U*_0*(13-78*b0+137*O),v.argpdot=-.5*T*$0+.0625*U*(7-114*b0+395*O)+j*(3-36*b0+49*O),X=-T*E0,v.nodedot=X+(.5*U*(4-19*b0)+2*j*(3-7*b0))*E0,Q=v.argpdot+v.nodedot,v.omgcof=v.bstar*J*Math.cos(v.argpo),v.xmcof=0,v.ecco>1e-4&&(v.xmcof=-g2*D*v.bstar/h),v.nodecf=3.5*O0*X*v.cc1,v.t2cof=1.5*v.cc1,Math.abs(E0+1)>15e-13?v.xlcof=-.25*c0*A0*(3+5*E0)/(1+E0):v.xlcof=-.25*c0*A0*(3+5*E0)/p0,v.aycof=-.5*c0*A0;var G0=1+v.eta*Math.cos(v.mo);if(v.delmo=G0*G0*G0,v.sinmao=Math.sin(v.mo),v.x7thm1=7*b0-1,2*U0/v.no>=225){v.method="d",v.isimp=1,s=0,c=v.inclo;var J0={epoch:x,ep:v.ecco,argpp:v.argpo,tc:s,inclp:v.inclo,nodep:v.nodeo,np:v.no,e3:v.e3,ee2:v.ee2,peo:v.peo,pgho:v.pgho,pho:v.pho,pinco:v.pinco,plo:v.plo,se2:v.se2,se3:v.se3,sgh2:v.sgh2,sgh3:v.sgh3,sgh4:v.sgh4,sh2:v.sh2,sh3:v.sh3,si2:v.si2,si3:v.si3,sl2:v.sl2,sl3:v.sl3,sl4:v.sl4,xgh2:v.xgh2,xgh3:v.xgh3,xgh4:v.xgh4,xh2:v.xh2,xh3:v.xh3,xi2:v.xi2,xi3:v.xi3,xl2:v.xl2,xl3:v.xl3,xl4:v.xl4,zmol:v.zmol,zmos:v.zmos},o=t2(J0);v.e3=o.e3,v.ee2=o.ee2,v.peo=o.peo,v.pgho=o.pgho,v.pho=o.pho,v.pinco=o.pinco,v.plo=o.plo,v.se2=o.se2,v.se3=o.se3,v.sgh2=o.sgh2,v.sgh3=o.sgh3,v.sgh4=o.sgh4,v.sh2=o.sh2,v.sh3=o.sh3,v.si2=o.si2,v.si3=o.si3,v.sl2=o.sl2,v.sl3=o.sl3,v.sl4=o.sl4,S=o.sinim,B=o.cosim,W=o.em,E=o.emsq,r0=o.s1,N=o.s2,Y=o.s3,m0=o.s4,a0=o.s5,u0=o.ss1,x0=o.ss2,r=o.ss3,i=o.ss4,$=o.ss5,A=o.sz1,V=o.sz3,_=o.sz11,j0=o.sz13,o0=o.sz21,f0=o.sz23,w=o.sz31,C=o.sz33,v.xgh2=o.xgh2,v.xgh3=o.xgh3,v.xgh4=o.xgh4,v.xh2=o.xh2,v.xh3=o.xh3,v.xi2=o.xi2,v.xi3=o.xi3,v.xl2=o.xl2,v.xl3=o.xl3,v.xl4=o.xl4,v.zmol=o.zmol,v.zmos=o.zmos,y=o.nm,k=o.z1,G=o.z3,z0=o.z11,l0=o.z13,w0=o.z21,q0=o.z23,T0=o.z31,F0=o.z33;var W0={inclo:c,init:v.init,ep:v.ecco,inclp:v.inclo,nodep:v.nodeo,argpp:v.argpo,mp:v.mo,opsmode:v.operationmode},L0=k2(v,W0);v.ecco=L0.ep,v.inclo=L0.inclp,v.nodeo=L0.nodep,v.argpo=L0.argpp,v.mo=L0.mp,H=0,I=0,P=0;var X0={cosim:B,emsq:E,argpo:v.argpo,s1:r0,s2:N,s3:Y,s4:m0,s5:a0,sinim:S,ss1:u0,ss2:x0,ss3:r,ss4:i,ss5:$,sz1:A,sz3:V,sz11:_,sz13:j0,sz21:o0,sz23:f0,sz31:w,sz33:C,t:v.t,tc:s,gsto:v.gsto,mo:v.mo,mdot:v.mdot,no:v.no,nodeo:v.nodeo,nodedot:v.nodedot,xpidot:Q,z1:k,z3:G,z11:z0,z13:l0,z21:w0,z23:q0,z31:T0,z33:F0,ecco:v.ecco,eccsq:N0,em:W,argpm:H,inclm:c,mm:P,nm:y,nodem:I,irez:v.irez,atime:v.atime,d2201:v.d2201,d2211:v.d2211,d3210:v.d3210,d3222:v.d3222,d4410:v.d4410,d4422:v.d4422,d5220:v.d5220,d5232:v.d5232,d5421:v.d5421,d5433:v.d5433,dedt:v.dedt,didt:v.didt,dmdt:v.dmdt,dnodt:v.dnodt,domdt:v.domdt,del1:v.del1,del2:v.del2,del3:v.del3,xfact:v.xfact,xlamo:v.xlamo,xli:v.xli,xni:v.xni},L=R2(X0);v.irez=L.irez,v.atime=L.atime,v.d2201=L.d2201,v.d2211=L.d2211,v.d3210=L.d3210,v.d3222=L.d3222,v.d4410=L.d4410,v.d4422=L.d4422,v.d5220=L.d5220,v.d5232=L.d5232,v.d5421=L.d5421,v.d5433=L.d5433,v.dedt=L.dedt,v.didt=L.didt,v.dmdt=L.dmdt,v.dnodt=L.dnodt,v.domdt=L.domdt,v.del1=L.del1,v.del2=L.del2,v.del3=L.del3,v.xfact=L.xfact,v.xlamo=L.xlamo,v.xli=L.xli,v.xni=L.xni}v.isimp!==1&&(Z=v.cc1*v.cc1,v.d2=4*y0*z*Z,F=v.d2*z*v.cc1/3,v.d3=(17*y0+g)*F,v.d4=.5*F*y0*z*(221*y0+31*g)*v.cc1,v.t3cof=v.d2+2*Z,v.t4cof=.25*(3*v.d3+v.cc1*(12*v.d2+10*Z)),v.t5cof=.2*(3*v.d4+12*v.cc1*v.d3+6*v.d2*v.d2+15*Z*(2*v.d2+Z)))}L2(v,0),v.init="n"}function m1(v,a){var n="i",p=1440/(2*U0),x=0,d={};d.error=0,d.satnum=v.substring(2,7),d.epochyr=parseInt(v.substring(18,20),10),d.epochdays=parseFloat(v.substring(20,32)),d.ndot=parseFloat(v.substring(33,43)),d.nddot=parseFloat(".".concat(parseInt(v.substring(44,50),10),"E").concat(v.substring(50,52))),d.bstar=parseFloat("".concat(v.substring(53,54),".").concat(parseInt(v.substring(54,59),10),"E").concat(v.substring(59,61))),d.inclo=parseFloat(a.substring(8,16)),d.nodeo=parseFloat(a.substring(17,25)),d.ecco=parseFloat(".".concat(a.substring(26,33))),d.argpo=parseFloat(a.substring(34,42)),d.mo=parseFloat(a.substring(43,51)),d.no=parseFloat(a.substring(52,63)),d.no/=p,d.inclo*=l2,d.nodeo*=l2,d.argpo*=l2,d.mo*=l2,d.epochyr<57?x=d.epochyr+2e3:x=d.epochyr+1900;var b=s2(x,d.epochdays),q=b.mon,m=b.day,u=b.hr,l=b.minute,M=b.sec;return d.jdsatepoch=S2(x,q,m,u,l,M),o1(d,{opsmode:n,satn:d.satnum,epoch:d.jdsatepoch-24332815e-1,xbstar:d.bstar,xecco:d.ecco,xargpo:d.argpo,xinclo:d.inclo,xmo:d.mo,xno:d.no,xnodeo:d.nodeo}),d}function d1(v){return n1(v)||r1(v)||h1(v)||i1()}function n1(v){if(Array.isArray(v))return U2(v)}function r1(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function h1(v,a){if(v){if(typeof v=="string")return U2(v,a);var n=Object.prototype.toString.call(v).slice(8,-1);if(n==="Object"&&v.constructor&&(n=v.constructor.name),n==="Map"||n==="Set")return Array.from(v);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U2(v,a)}}function U2(v,a){(a==null||a>v.length)&&(a=v.length);for(var n=0,p=new Array(a);n<a;n++)p[n]=v[n];return p}function i1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1(){for(var v=arguments.length,a=new Array(v),n=0;n<v;n++)a[n]=arguments[n];var p=a[0],x=Array.prototype.slice.call(a,1),d=S2.apply(void 0,d1(x)),b=(d-p.jdsatepoch)*N2;return L2(p,b)}function P2(v){return v*K2}function l1(v){if(v<-U0/2||v>U0/2)throw new RangeError("Latitude radians must be in range [-pi/2; pi/2].");return P2(v)}function g1(v){if(v<-U0||v>U0)throw new RangeError("Longitude radians must be in range [-pi; pi].");return P2(v)}function f1(v,a){for(var n=6378.137,p=6356.7523142,x=Math.sqrt(v.x*v.x+v.y*v.y),d=(n-p)/n,b=2*d-d*d,q=Math.atan2(v.y,v.x)-a;q<-U0;)q+=t;for(;q>U0;)q-=t;for(var m=20,u=0,l=Math.atan2(v.z,Math.sqrt(v.x*v.x+v.y*v.y)),M;u<m;)M=1/Math.sqrt(1-b*(Math.sin(l)*Math.sin(l))),l=Math.atan2(v.z+n*M*b*Math.sin(l),x),u+=1;var B=x/Math.cos(l)-n*M;return{longitude:q,latitude:l,height:B}}export{g1 as a,l1 as d,f1 as e,c2 as g,x1 as p,m1 as t};
